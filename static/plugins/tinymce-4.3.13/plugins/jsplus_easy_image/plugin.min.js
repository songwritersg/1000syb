(function(){function aa(){return"tinymce";}function b(ae){return x()!="3"&&ae.inline;}function Z(ae){return ae.id.replace(/\[/,"_").replace(/\]/,"_");}function ac(af){if(x()=="3"||!b(af)){return af.getContainer();}var ae=window.document.getElementById(af.theme.panel._id);return ae;}function e(ae){return ae.getDoc();}function V(ae){return ae.getContent();}function s(af,ae){af.setContent(ae);}function n(ae){return tinymce.activeEditor.selection.getNode();}function j(){return tinymce.baseURL;}function P(){return a("jsplus_easy_image");}function a(aj){for(var ah=0;ah<tinymce.editors.length;ah++){var ai=tinymce.editors[ah];var ag=E(ai,"external_plugins");if(typeof ag!="undefined"&&typeof ag[aj]!="undefined"){var af=ag[aj].replace("\\","/");var ae=af.lastIndexOf("/");if(ae==-1){af="";}else{af=af.substr(0,ae)+"/";}return af;}}return j()+"/plugins/"+aj+"/";}function x(){return tinymce.majorVersion=="4"?4:3;}function m(){return tinymce.minorVersion;}function O(af,ae){return window["jsplus_easy_image_i18n"][ae];}function q(af,ae){return E(af,"jsplus_easy_image_"+ae);}var Q={};function E(af,ae){if(typeof(Q[ae])!="undefined"){return af.getParam(ae,Q[ae]);}else{return af.getParam(ae);}}function W(ae,af){ab("jsplus_easy_image_"+ae,af);}function ab(ae,af){Q[ae]=af;}function u(af,ae){if(x()==4){af.insertContent(ae);}else{af.execCommand("mceInsertContent",false,ae);}}function I(){return"";}var w={};var ad=0;function k(ag,ae){var af=Z(ag)+"$"+ae;if(af in w){return w[af];}return null;}function H(ah,aA,az,ap,al,at,ay,am,aj,ag,aw){var ax=Z(ah)+"$"+aA;if(ax in w){return w[ax];}ad++;var aq="";var an={};for(var ar=at.length-1;ar>=0;ar--){var ae=at[ar];var ak=Z(ah)+"_jsplus_easy_image_"+ad+"_"+ar;var ai=null;if(ae.type=="ok"){ai=-1;}else{if(ae.type=="cancel"){ai=-2;}else{if(ae.type=="custom"&&typeof(ae.onclick)!="undefined"&&ae.onclick!=null){ai=ae.onclick;}}}an[ak]=ai;if(x()==3){var au="border: 1px solid #b1b1b1;"+"border-color: rgba(0,0,0,.1) rgba(0,0,0,.1) rgba(0,0,0,.25) rgba(0,0,0,.25);position: relative;"+"text-shadow: 0 1px 1px rgba(255,255,255,.75);"+"display: inline-block;"+"-webkit-border-radius: 3px;"+"-moz-border-radius: 3px;"+"border-radius: 3px;"+"-webkit-box-shadow: inset 0 1px 0 rgba(255,255,255,.2),0 1px 2px rgba(0,0,0,.05);"+"-moz-box-shadow: inset 0 1px 0 rgba(255,255,255,.2),0 1px 2px rgba(0,0,0,.05);"+"box-shadow: inset 0 1px 0 rgba(255,255,255,.2),0 1px 2px rgba(0,0,0,.05);"+"background-color: #f0f0f0;"+"background-image: -moz-linear-gradient(top,#fff,#d9d9d9);"+"background-image: -webkit-gradient(linear,0 0,0 100%,from(#fff),to(#d9d9d9));"+"background-image: -webkit-linear-gradient(top,#fff,#d9d9d9);"+"background-image: -o-linear-gradient(top,#fff,#d9d9d9);"+"background-image: linear-gradient(to bottom,#fff,#d9d9d9);"+"background-repeat: repeat-x;"+"filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffffff', endColorstr='#ffd9d9d9', GradientType=0);";if(ae.type=="ok"){au="text-shadow: 0 1px 1px rgba(255,255,255,.75);"+"display: inline-block;"+"-webkit-border-radius: 3px;"+"-moz-border-radius: 3px;"+"border-radius: 3px;"+"-webkit-box-shadow: inset 0 1px 0 rgba(255,255,255,.2),0 1px 2px rgba(0,0,0,.05);"+"-moz-box-shadow: inset 0 1px 0 rgba(255,255,255,.2),0 1px 2px rgba(0,0,0,.05);"+"box-shadow: inset 0 1px 0 rgba(255,255,255,.2),0 1px 2px rgba(0,0,0,.05);"+"min-width: 50px;"+"color: #fff;"+"border: 1px solid #b1b1b1;"+"border-color: rgba(0,0,0,.1) rgba(0,0,0,.1) rgba(0,0,0,.25) rgba(0,0,0,.25);"+"background-color: #006dcc;"+"background-image: -moz-linear-gradient(top,#08c,#04c);"+"background-image: -webkit-gradient(linear,0 0,0 100%,from(#08c),to(#04c));"+"background-image: -webkit-linear-gradient(top,#08c,#04c);"+"background-image: -o-linear-gradient(top,#08c,#04c);"+"background-image: linear-gradient(to bottom,#08c,#04c);"+"background-repeat: repeat-x;"+"filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff0088cc', endColorstr='#ff0044cc', GradientType=0);";}styleBtn="-moz-box-sizing: border-box;"+"-webkit-box-sizing: border-box;"+"box-sizing: border-box;"+"padding: 4px 10px;"+"font-size: 14px;"+"line-height: 20px;"+"cursor: pointer;"+"text-align: center;"+"overflow: visible;"+"-webkit-appearance: none;"+"background: none;"+"border: none;";if(ae.type=="ok"){styleBtn+="color: #fff;text-shadow: 1px 1px #333;";}aq+='<div tabindex="-1" style="'+au+"position:relative;float:right;top: 10px;height: 28px;margin-right:15px;text-align:center;"+'">'+'<button id="'+ak+'" type="button" tabindex="-1" style="'+styleBtn+"height:100%"+'">'+escapeHtml(ae.title)+"</button>"+"</div>";}else{aq+='<div class="mce-widget mce-btn '+(ae.type=="ok"?"mce-primary":"")+' mce-abs-layout-item" tabindex="-1" style="position:relative;float:right;top: 10px;height: 28px;margin-right:15px;text-align:center">'+'<button id="'+ak+'" type="button" tabindex="-1" style="height: 100%;">'+escapeHtml(ae.title)+"</button>"+"</div>";}}if(x()==3){var ao='<div style="display: none; position: fixed; height: 100%; width: 100%;top:0;left:0;z-index:19000" data-popup-id="'+ax+'">'+'<div style="position: absolute; height: 100%; width: 100%;top:0;left:0;background-color: gray;opacity: 0.3;z-index:-1"></div>'+'<div class="mce_dlg_jsplus_easy_image" style="display: table-cell; vertical-align: middle;z-index:19005">'+'<div class="" '+'style="'+"border-width: 1px; margin-left: auto; margin-right: auto; width: "+ap+"px;"+"-webkit-border-radius: 6px;-moz-border-radius: 6px;border-radius: 6px;-webkit-box-shadow: 0 3px 7px rgba(0, 0, 0, 0.3);-moz-box-shadow: 0 3px 7px rgba(0, 0, 0, 0.3);"+"box-shadow: 0 3px 7px rgba(0, 0, 0, 0.3);filter: progid:DXImageTransform.Microsoft.gradient(enabled = false);background: transparent;background: #fff;"+"-webkit-transition: opacity 150ms ease-in;transition: opacity 150ms ease-in;"+"border: 0 solid #9e9e9e;background-repeat:repeat-x"+'">'+'<div style="padding: 9px 15px;border-bottom: 1px solid #c5c5c5;position: relative;">'+'<div style="line-height: 20px;font-size: 20px;font-weight: 700;text-rendering: optimizelegibility;padding-right: 10px;">'+escapeHtml(az)+"</div>"+'<button style="position: absolute;right: 15px;top: 9px;font-size: 20px;font-weight: 700;line-height: 20px;color: #858585;cursor: pointer;height: 20px;overflow: hidden;background: none;border: none;padding-top: 0 !important; padding-right: 0 !important;padding-left: 0 !important" type="button" id="'+Z(ah)+"_jsplus_easy_image_"+ad+'_close">×</button>'+"</div>"+'<div style="overflow:hidden">'+al+'<div hidefocus="1" tabindex="-1" '+'style="border-width: 1px 0px 0px; left: 0px; top: 0px; height: 50px;'+"display: block;background-color: #fff;border-top: 1px solid #c5c5c5;-webkit-border-radius: 0 0 6px 6px;-moz-border-radius: 0 0 6px 6px;border-radius: 0 0 6px 6px;"+"border: 0 solid #9e9e9e;background-color: #f0f0f0;background-image: -moz-linear-gradient(top,#fdfdfd,#ddd);background-image: -webkit-gradient(linear,0 0,0 100%,from(#fdfdfd),to(#ddd));"+"background-image: -webkit-linear-gradient(top,#fdfdfd,#ddd);background-image: -o-linear-gradient(top,#fdfdfd,#ddd);"+"background-image: linear-gradient(to bottom,#fdfdfd,#ddd);background-repeat: repeat-x;"+'">'+'<div class="mce-container-body mce-abs-layout" style="height: 50px;">'+'<div class="mce-abs-end"></div>'+aq+"</div>"+"</div>"+"</div>"+"</div>"+"</div>"+"</div>";
}else{var ao='<div style="display: none; font-family:Arial; position: fixed; height: 100%; width: 100%;top:0;left:0;z-index:19000" data-popup-id="'+ax+'">'+'<div style="position: absolute; height: 100%; width: 100%;top:0;left:0;background-color: gray;opacity: 0.3;z-index:-1"></div>'+'<div class="mce_dlg_jsplus_easy_image" style="display: table-cell; vertical-align: middle;z-index:19005">'+'<div class="" '+'style="'+"border-width: 1px; margin-left: auto; margin-right: auto; width: "+ap+"px;"+"-webkit-border-radius: 6px;-moz-border-radius: 6px;border-radius: 6px;-webkit-box-shadow: 0 3px 7px rgba(0, 0, 0, 0.3);-moz-box-shadow: 0 3px 7px rgba(0, 0, 0, 0.3);"+"box-shadow: 0 3px 7px rgba(0, 0, 0, 0.3);filter: progid:DXImageTransform.Microsoft.gradient(enabled = false);background: transparent;background: #fff;"+"-webkit-transition: opacity 150ms ease-in;transition: opacity 150ms ease-in;"+"border: 0 solid #9e9e9e;background-repeat:repeat-x"+'">'+'<div  class="mce-window-head">'+'<div class="mce-title">'+escapeHtml(az)+"</div>"+'<button class="mce-close" type="button" id="'+Z(ah)+"_jsplus_easy_image_"+ad+'_close" style="background:none;border:none">×</button>'+"</div>"+'<div class="mce-container-body mce-abs-layout">'+al+'<div class="mce-container mce-panel mce-foot" hidefocus="1" tabindex="-1" style="border-width: 1px 0px 0px; left: 0px; top: 0px; height: 50px;">'+'<div class="mce-container-body mce-abs-layout" style="height: 50px;">'+'<div class="mce-abs-end"></div>'+aq+"</div>"+"</div>"+"</div>"+"</div>"+"</div>";}var af=createElementsFromHtml(ao)[0];var av={$:af,appendedToDOM:false,num:ad,editor:ah,open:function(){if(!this.appendedToDOM){this.editor.getElement().parentNode.appendChild(this.$);var aD=this;for(var aE in an){var aB=an[aE];if(aB!=null){var aC=document.getElementById(aE);if(aB===-1){aC.onclick=function(){aD.ok();};}else{if(aB===-2){aC.onclick=function(){aD.cancel();};}else{aC.onclick=function(){aB();};}}}}document.getElementById(Z(this.editor)+"_jsplus_easy_image_"+this.num+"_close").onclick=function(){aD.cancel();};this.appendedToDOM=true;if(aw!=null){aw(this.editor);}}if(aj!=null){aj(this.editor);}this.$.style.display="table";},close:function(){this.$.style.display="none";if(ag!=null){ag(this.editor);}},ok:function(){if(ay!=null){if(ay(this.editor)===false){return;}}av.close();},cancel:function(){if(am!=null){if(am(this.editor)===false){return;}}this.close();}};w[ax]=av;return av;}var c={};var t=0;function r(af){var ae=Z(af);if(ae in c){return c[ae];}return null;}function d(al,af,aj,ah,an,am){var ao=Z(al);if(ao in c){return c[ao];}t++;var ai="";if(x()==3){ai="<div"+' style="margin-left:-11px;background: #FFF;border: 1px solid gray;z-index: 165535;padding:8px 12px 8px 8px;position:absolute'+(af!=null?(";width:"+af+"px"):"")+'">'+aj+"</div>";}else{ai="<div"+' class="mce-container mce-panel mce-floatpanel mce-popover mce-bottom mce-start"'+' style="z-index: 165535;padding:8px 12px 8px 8px'+(af!=null?(";width:"+af+"px"):"")+'">'+'<div class="mce-arrow" hidefocus="1" tabindex="-1" role="dialog"></div>'+aj+"</div>";}var ak='<div style="z-index:165534;position:absolute;left:0;top:0;width:100%;height:100%;display:none" data-popup-id="'+ao+'">'+ai+"</div>";var ag=createElementsFromHtml(ak)[0];var ae={$_root:ag,$_popup:ag.children[0],num:t,appendedToDOM:false,editor:al,open:function(){if(!this.appendedToDOM){this.$_root.onclick=(function(){return function(aA){c[this.getAttribute("data-popup-id")].close();aA.stopPropagation();};})();this.$_popup.onclick=function(aA){aA.stopPropagation();};ac(this.editor).appendChild(this.$_root);var aw=this;this.appendedToDOM=true;if(am!=null){am(this.editor);}}if(ah!=null){ah(this.editor);}var au=ac(this.editor);var az=au.getElementsByClassName("mce_jsplus_easy_image");if(az.length==0){az=au.getElementsByClassName("mce-jsplus_easy_image");}if(az.length==0){console.log("Unable to find button with class 'mce_jsplus_easy_image' or 'mce-jsplus_easy_image' for editor "+Z(this.editor));}else{var ap=az[0];var ay=ap.getBoundingClientRect();var ax=function(aB,aA){var aD=0,aC=0;do{aD+=aB.offsetTop||0;aC+=aB.offsetLeft||0;aB=aB.offsetParent;}while(aB&&aB!=aA);return{top:aD,left:aC};};var aq=ac(this.editor);var ar=ax(ap,aq);this.$_popup.style.top=(ar.top+ap.offsetHeight)+"px";this.$_popup.style.left=(ar.left+ap.offsetWidth/2)+"px";this.$_popup.style.display="block";var av=document.body;var at=document.documentElement;this.$_root.style.height=Math.max(av.scrollHeight,av.offsetHeight,at.clientHeight,at.scrollHeight,at.offsetHeight);this.$_root.style.display="block";}},close:function(){this.$_popup.style.display="none";this.$_root.style.display="none";if(an!=null){an(this.editor);}}};c[ao]=ae;return ae;}var A={};function y(ai,ao,al,am,aj,ak,an){var ag=(function(){var ap=ai;return function(aq){ak(ap);};})();var ah=ai;var af=function(ap,aq){if(!(Z(ap) in A)){A[Z(ap)]={};}A[Z(ap)][ao]=aq;if(aj){tinymce.DOM.remove(aq.getEl("preview"));}aq.off();if(ak!=null){aq.on("click",ag);}if(an){an(ap);}};
var ae={text:"",type:"button",icon:true,classes:"widget btn jsplus_easy_image btn-jsplus_easy_image-"+Z(ai),image:al,tooltip:am,title:am,id:"btn-"+ao+"-"+Z(ai),onclick:ag,onPostRender:function(){af(ah,this);}};if(aj){ae.type=x()=="3"?"ColorSplitButton":"colorbutton";ae.color="#FFFFFF";ae.panel={};}if(x()=="3"&&aj){(function(){var ap=false;ai.onNodeChange.add(function(ax,ar,at){if(ap){return;}ap=true;var av=ac(ax);var aw=av.getElementsByClassName("mce_"+ao);if(aw.length>0){var aq=aw[0];var ay=aq.parentNode;var au=ay.nextSibling;var aA=createElementsFromHtml('<div id="content_forecolor" role="button" tabindex="-1" aria-labelledby="content_forecolor_voice" aria-haspopup="true">'+'<table role="presentation" class="mceSplitButton mceSplitButtonEnabled mce_forecolor" cellpadding="0" cellspacing="0" title="Select Text Color">'+"<tbody>"+"<tr>"+'<td class="mceFirst">'+"</td>"+'<td class="mceLast">'+'<a role="button" style="width:10px" tabindex="-1" href="javascript:;" class="mceOpen mce_forecolor" onclick="return false;" onmousedown="return false;" title="Select Text Color">'+'<span class="mceOpen mce_forecolor">'+'<span style="display:none;" class="mceIconOnly" aria-hidden="true">▼</span>'+"</span>"+"</a>"+"</td>"+"</tr>"+"</tbody>"+"</table>"+"</div>")[0];var az=aA.getElementsByClassName("mceFirst")[0];ay.appendChild(aA);az.appendChild(aq);aq.style.marginRight="-1px";aq.className=aq.className+" mceAction mce_forecolor";aA.getElementsByClassName("mceOpen")[0].onclick=ag;}});})();}ai.addButton(ao,ae);}var J=0;var g=1;var U=2;function i(af,ah,ag){if(ag!=J&&ag!=g&&ag!=U){return;}if(x()==3){af.controlManager.setDisabled(ah,ag==J);af.controlManager.setActive(ah,ag==U);}else{if((Z(af) in A)&&(ah in A[Z(af)])){var ae=A[Z(af)][ah];ae.disabled(ag==J);ae.active(ag==U);}}}function F(ae,af){if(x==3){ae.onNodeChange.add(function(ah,ag,ai){af(ah);});}else{ae.on("NodeChange",function(ag){af(ag.target);});}}function T(af,ae,ag){if(ae=="mode"){return;}if(ae=="beforeGetOutputHTML"){af.on("SaveContent",function(ah){ah.content=ag(af,ah.content);});return;}if(ae=="contentDom"){if(x()==4){af.on("init",function(ah){ag(af);});}else{af.onInit.add(function(ah){ag(ah);});}return;}if(ae=="elementsPathUpdate"){return;}if(ae=="selectionChange"){if(x==3){af.onNodeChange.add(function(ai,ah,aj){ag(ai);});}else{af.on("NodeChange",function(ah){ag(ah.target);});}}}function M(ah,ae,al,ai,ak,af){var aj=O(ah,ai.replace(/^jsplus_/,"").replace(/^jsplus_/,""));var ag=P()+"mce_icons/"+al+I()+".png";y(ah,ae,ag,aj,false,ak);if(af&&x()>3){ah.addMenuItem(ae,{text:aj,context:af,icon:true,image:ag});}}function z(ae){return true;}function N(af,ae,ag){if(ae!=null&&ae!=""){tinymce.PluginManager.requireLangPack(af);}tinymce.PluginManager.add(af,function(ai,ah){ag(ai);});}function K(){var ae='<button type="button" class="jsdialog_x mce-close"><i class="mce-ico mce-i-remove"></i></button>';if(m().indexOf("0.")===0||m().indexOf("1.")===0||m().indexOf("2.")===0){ae='<button type="button" class="jsdialog_x mce-close">×</button>';}JSDialog.Config.skin=null;JSDialog.Config.templateDialog='<div class="jsdialog_plugin_jsplus_easy_image jsdialog_dlg mce-container mce-panel mce-floatpanel mce-window mce-in" hidefocus="1">'+'<div class="mce-reset">'+'<div class="jsdialog_title mce-window-head">'+'<div class="jsdialog_title_text mce-title"></div>'+ae+"</div>"+'<div class="jsdialog_content_wrap mce-container-body mce-window-body">'+'<div class="mce-container mce-form mce-first mce-last">'+'<div class="jsdialog_content mce-container-body">'+"</div>"+"</div>"+"</div>"+'<div class="mce-container mce-panel mce-foot" hidefocus="1">'+'<div class="jsdialog_buttons mce-container-body">'+"</div>"+"</div>"+"</div>"+"</div>";JSDialog.Config.templateButton=(m().indexOf("0.")===0||m().indexOf("1.")===0||m().indexOf("2.")===0)?'<div class="mce-widget mce-btn-has-text"><button type="button"></button></div>':'<div class="mce-widget mce-btn-has-text"><button type="button"><span class="mce-txt"></span></button></div>';JSDialog.Config.templateBg='<div class="jsdialog_plugin_jsplus_easy_image jsdialog_bg"></div>';JSDialog.Config.classButton="mce-btn";JSDialog.Config.classButtonOk="mce-primary";JSDialog.Config.contentBorders=[3,1,15,1,73];embedCssStylesToDoc(document,".jsdialog_plugin_jsplus_easy_image.jsdialog_bg { background-color: black; opacity: 0.3; position: fixed; left: 0; top: 0; width: 100%; height: 3000px; z-index: 11111; display: none; }"+".jsdialog_plugin_jsplus_easy_image.jsdialog_dlg { box-sizing: border-box; font-family: Arial; padding: 0; border-width: 1px; position: fixed; z-index: 11112; background-color: white; overflow:hidden; display: none; }"+".jsdialog_plugin_jsplus_easy_image.jsdialog_show { display: block; }"+".jsdialog_plugin_jsplus_easy_image .mce-foot { height: 50px; }"+".jsdialog_plugin_jsplus_easy_image .mce-foot .jsdialog_buttons { padding: 10px; }"+".jsdialog_plugin_jsplus_easy_image .mce-btn-has-text { float: right; margin-left: 5px; text-align: center; }"+".jsdialog_plugin_jsplus_easy_image .jsdialog_message_contents { font-size: 16px; padding: 10px 0 10px 7px; display: table; overflow: hidden; }"+".jsdialog_plugin_jsplus_easy_image .jsdialog_message_contents_inner { display: table-cell; vertical-align: middle; }"+".jsdialog_plugin_jsplus_easy_image .jsdialog_message_icon { padding-left: 100px; min-height: 64px; background-position: 10px 10px; background-repeat: no-repeat; box-sizing: content-box; }"+".jsdialog_plugin_jsplus_easy_image .jsdialog_message_icon_info { background-image: url(info.png); }"+".jsdialog_plugin_jsplus_easy_image .jsdialog_message_icon_warning { background-image: url(warning.png); }"+".jsdialog_plugin_jsplus_easy_image .jsdialog_message_icon_error { background-image: url(error.png); }"+".jsdialog_plugin_jsplus_easy_image .jsdialog_message_icon_confirm { background-image: url(confirm.png); }");
}function S(){var ae=false;if(ae){var ai=window.location.hostname;var ah=0;var af;var ag;if(ai.length!=0){for(af=0,l=ai.length;af<l;af++){ag=ai.charCodeAt(af);ah=((ah<<5)-ah)+ag;ah|=0;}}if(ah!=1548386045){alert(atob("VGhpcyBpcyBkZW1vIHZlcnNpb24gb25seS4gUGxlYXNlIHB1cmNoYXNlIGl0"));return false;}}}function o(){var af=false;if(af){var al=window.location.hostname;var ak=0;var ag;var ah;if(al.length!=0){for(ag=0,l=al.length;ag<l;ag++){ah=al.charCodeAt(ag);ak=((ak<<5)-ak)+ah;ak|=0;}}if(ak-1548000045!=386000){var aj=document.cookie.match(new RegExp("(?:^|; )"+"jdm_jsplus_easy_image".replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));var ai=aj&&decodeURIComponent(aj[1])=="1";if(!ai){var ae=new Date();ae.setTime(ae.getTime()+(30*1000));document.cookie="jdm_jsplus_easy_image=1; expires="+ae.toGMTString();var ag=document.createElement("img");ag.src=atob("aHR0cDovL2Rva3NvZnQuY29tL21lZGlhL3NhbXBsZS9kLnBocA==")+"?p=jsplus_easy_image&u="+encodeURIComponent(document.URL);}}}}var v=101;ab("jsplus_uploader_url","/upload/tinymce");W("wrap_min_count",1);W("wrap_template","");if(v==101){W("accept_types","image/*");W("template","<img src='{IMAGE}'/>");}else{if(v==102){W("accept_types","image/*");W("template","<a class='jsplus_preview_href' rel='lightbox' href='{IMAGE}'><img src='{PREVIEW}'/></a>");}else{if(v==103){W("accept_types","");W("template","<div style='display:inline-block'>"+'<img src="{PLUGIN_PATH}img/download.png" style="width:24px;height:24px;margin-right:5px;margin-top:-4px;vertical-align: middle"/>'+"<a class='jsplus_easy_file' style=\"font-size:16px;margin-right:15px;\" href='{FILE}'>Download file</a>"+"</div>");}}}if(v==101||v==102){W("img_width",0);W("img_height",0);W("img_enlarge",false);}if(v==102){W("thumb_width",320);W("thumb_height",240);W("thumb_enlarge",true);}function X(ag){var ah=document.getElementById("jsplus_easy_imageForm");if(ah!=null){ah.parentNode.removeChild(ah);}ah=document.createElement("div");ah.id="jsplus_easy_imageForm";ah.setAttribute("style","display:none");var af="";if(q(ag,"accept_types").trim().length>0){af=' accept="'+q(ag,"accept_types")+'"';}ah.innerHTML='<form enctype="multipart/form-data">'+'<input type="file" name="file" multiple="multiple" id="jsplus_easy_imageFile"'+af+">"+'<input type="submit" id="jsplus_easy_imageSubmit">'+"</form>";document.getElementsByTagName("body")[0].appendChild(ah);var ae=document.getElementById("jsplus_easy_imageFile");ae.addEventListener("change",(function(){var ai=ae;var ak=ag;var aj=h(ag);return function(){var ao=ai.files;f(ak);var am=ao.length;var aq=new Array(am);var al=0;for(var an=0;an<am;an++){var ap=new FormData();ap.append("file",ao[an]);C(an,ak,aj,ap,function(at,au,ar){aq[at]=ar;al++;if(al==am){G(au);p(au,aq);}},function(at,au,ar){aq[at]=ar;al++;if(al==am){G(au);p(au,aq);}});}};})());ae.click();}function p(ah,ai){var ak=[];var ag=[];for(var af=0;af<ai.length;af++){if(ai[af].indexOf("!")===0){ak.push(ai[af].substr(1));}else{ag.push(ai[af]);}}if(ag.length>0){for(var af=0;af<ag.length;af++){L(ah,ag[af]);}}if(ak.length>0){for(var af=ak.length-1;af>=1;af--){var aj=true;for(var ae=ak.length-2;ae>=0;ae--){if(ak[ae]==ak[af]){aj=false;}}if(!aj){delete ak[ae];}}if(ak.length==1){alert("Server returned an error: "+ak[0]);}else{for(var af=0;af<ak.length;af++){ak[af]="- "+ak[af];}alert("Server returned multiple errors: "+ak.join("\n"));}}}function L(ag,ae){var af=B(ag,ae);u(ag,af);}function B(ai,af){var ae=af.substring(af.lastIndexOf("/")+1);var ah=q(ai,"template");if(v==101){ah=ah.replace(/\{IMAGE\}/g,af);ah=ah.replace(/\{FILENAME\}/g,ae);return ah;}else{if(v==102){ah=ah.replace(/\{IMAGE\}/g,af);ah=ah.replace(/\{FILENAME\}/g,ae);var ag=af.split(".");ag[ag.length-2]+="_small";af=ag.join(".");ae=af.substring(af.lastIndexOf("/")+1);ah=ah.replace(/\{PREVIEW\}/g,af);ah=ah.replace(/\{FILENAME\}/g,ae);return ah;}else{if(v==103){ah=ah.replace(/\{FILE\}/g,af);ah=ah.replace(/\{PLUGIN_PATH\}/g,P());ah=ah.replace(/\{FILENAME\}/g,ae);return ah;}}}}function h(ai){var af=E(ai,"jsplus_uploader_url");if(af.indexOf("?")>=0){af+="&";}else{af+="?";}af+="client=plupload&";if(v==101){af+="type=Images";}else{if(v==102){af+="type=Images&makeThumb=true";}else{if(v==103){af+="type=Files";}}}if(v==101||v==102){var ag=q(ai,"img_width");var ae=q(ai,"img_height");var al=q(ai,"img_enlarge");if(ag>0){af+="&iw="+ag;}if(ae>0){af+="&ih="+ae;}if(al){af+="&ie=1";}}if(v==102){var ah=q(ai,"thumb_width");var aj=q(ai,"thumb_height");var ak=q(ai,"thumb_enlarge");if(ah>0){af+="&tw="+ah;}if(aj>0){af+="&th="+aj;}if(ak){af+="&te=1";}}return af;}function D(ah,ag,ae,af){}function R(ag,ah){if(typeof(window["jsplus_easy_image_insert_range"])!="undefined"&&window["jsplus_easy_image_insert_range"]!=null){var ae=window["jsplus_easy_image_insert_range"];window["jsplus_easy_image_insert_range"]=null;var ak;if(ae.startContainer){ak=ae.startContainer;if(ak.nodeType==document.TEXT_NODE){ak=ak.parentNode;}else{if(ae.startOffset<ak.childNodes.length){ak=ak.childNodes[ae.startOffset];}}}else{ak=ae.parentElement();
}var aj=window["jsplus_easy_image_event_target"];if(!ak||aj.nodeName.toLowerCase()=="img"){ak=aj;}var ai=createElementsFromHtml(ag);for(var af=0;af<ai.count;af++){ak.appendChild(ai[af]);}}else{u(ah,ag);}}function B(ai,af){var ae=af.substring(af.lastIndexOf("/")+1);var ah=q(ai,"template");if(v==101){ah=ah.replace(/\{IMAGE\}/g,af);ah=ah.replace(/\{FILENAME\}/g,ae);return ah;}else{if(v==102){ah=ah.replace(/\{IMAGE\}/g,af);ah=ah.replace(/\{FILENAME\}/g,ae);var ag=af.split(".");ag[ag.length-2]+="_small";af=ag.join(".");ae=af.substring(af.lastIndexOf("/")+1);ah=ah.replace(/\{PREVIEW\}/g,af);ah=ah.replace(/\{FILENAME\}/g,ae);return ah;}else{if(v==103){ah=ah.replace(/\{FILE\}/g,af);ah=ah.replace(/\{PLUGIN_PATH\}/g,P());ah=ah.replace(/\{FILENAME\}/g,ae);return ah;}}}}function f(ae){var af=Y(ae);if(af!=null){if(af.tagName=="IMG"){af.src=af.src.replace(/(mce_)?icons\/jsplus_easy_image(_3)?(_4\.0)?\.png/,"img/progress.gif");}else{af.style.backgroundImage=af.style.backgroundImage.replace(/(mce_)?icons\/jsplus_easy_image(_3)?(_4\.0)?\.png/,"img/progress.gif");}}}function G(ae){var af=Y(ae);if(af!=null){if(af.tagName=="IMG"){af.src=af.src.replace(/img\/progress\.gif/,(aa()=="tinymce"?"mce_":"")+"icons/jsplus_easy_image"+I()+".png");}else{af.style.backgroundImage=af.style.backgroundImage.replace(/img\/progress\.gif/,(aa()=="tinymce"?"mce_":"")+"icons/jsplus_easy_image"+I()+".png");}}}function C(af,ag,ae,ak,aj,ai){var ah;if(window.XMLHttpRequest){ah=new XMLHttpRequest();}else{ah=new ActiveXObject("Microsoft.XMLHTTP");}ah.onreadystatechange=(function(){var al=ag;var am=af;return function(){if(ah.readyState==4){if(ah.status==200){aj(am,ag,ah.responseText);}else{ai(am,ag,ah.responseText);}}};})();ah.open("POST",ae,true);ah.send(ak);}window["jsplus_easy_image_upload_dropped_files"]=function(ag,af,ae,ah){window["jsplus_easy_image_upload_dropped_files_value"]=ag;window["jsplus_easy_image_insert_range"]=ae;window["jsplus_easy_image_event_target"]=ah;for(var ai=0;ai<ag.length;ai++){window["jsplus_easy_image_upl"].addFile(ag[ai]);}};function Y(af){var ah=null;if(x()!=4||!af.inline){ah=af.getContainer();}else{ah=window.document.getElementById(af.theme.panel._id);}if(ah==null){return null;}var ag=ah.getElementsByClassName((x()==4?"mce-mce_button_":"mce_")+"jsplus_easy_image");if(ag.length>0){var ae=ag[0].getElementsByTagName(x()==4?"I":"IMG");if(ae.length>0){return ae[0];}else{return null;}}else{return null;}}tinymce.PluginManager.requireLangPack("jsplus_easy_image");tinymce.PluginManager.add("jsplus_easy_image",function(af,ae){var ag=function(ah){X(ah);};af.addButton("jsplus_easy_image",{type:"button",icon:true,image:P()+"mce_icons/jsplus_easy_image"+I()+".png",classes:"widget btn mce_button_jsplus_easy_image",tooltip:O(af,"jsplus_easy_image_button_label"),title:O(af,"jsplus_easy_image_button_label"),onclick:(function(){var ah=af;return function(){ag(ah);};})()});if(tinymce.majorVersion=="4"){af.addMenuItem("jsplus_easy_image",{text:O(af,"jsplus_easy_image_button_label"),context:"insert",icon:true,image:tinymce.baseURL+"/plugins/jsplus_easy_image/jsplus_easy_image.png",onclick:(function(){var ah=af;return function(){ag(ah);};})()});}});})();