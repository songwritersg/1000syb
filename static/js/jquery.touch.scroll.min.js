/*! jQuery Touch Scroll Plugin v0.1.0 * https://github.com/jang7668/jquery-touch-scroll */ !function(e){e.fn.touchScrollEvent=function(t){var n=0,o=0,a=0,i=0,r=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/),u="ontouchstart"in window||navigator.msMaxTouchPoints>0||navigator.maxTouchPoints,h=(new Date).getTime(),l=[],s=e.extend({},e.fn.touchScrollEvent.defaults,t||{}),c=function(){var e;return e=window.PointerEvent?{down:"pointerdown",move:"pointermove"}:{down:"MSPointerDown",move:"MSPointerMove"}},d=function(e){var t=[];return t.y="undefined"!=typeof e.pageY&&(e.pageY||e.pageX)?e.pageY:e.touches[0].pageY,t.x="undefined"!=typeof e.pageX&&(e.pageY||e.pageX)?e.pageX:e.touches[0].pageX,u&&f(e)&&(t.y=e.touches[0].pageY,t.x=e.touches[0].pageX),t},f=function(e){return"undefined"==typeof e.pointerType||"mouse"!=e.pointerType},w=function(e){var t=e.originalEvent;if(f(t)){var a=d(t);n=a.y,o=a.x}},p=function(e){var t=e.originalEvent;if(f(t)){e.preventDefault();var r=d(t);a=r.y,i=r.x,Math.abs(n-a)>Math.abs(o-i)?Math.abs(n-a)>window.outerWidth/100*s.touchThreshold&&(n>a?s.swipeDown():s.swipeUp()):Math.abs(o-i)>window.outerWidth/100*s.touchThreshold&&(o>i?s.swipeLeft():s.swipeRight())}},v=function(e,t){for(var n=0,o=e.slice(Math.max(e.length-t,1)),a=0;a<o.length;a++)n+=o[a];return Math.ceil(n/t)},g=function(e){var t=(new Date).getTime();e=e||window.event;var n=e.wheelDelta||-e.deltaY||-e.detail,o=Math.max(-1,Math.min(1,n)),a="undefined"!=typeof e.wheelDeltaX||"undefined"!=typeof e.deltaX,i=Math.abs(e.wheelDeltaX)<Math.abs(e.wheelDelta)||Math.abs(e.deltaX)<Math.abs(e.deltaY)||!a;l.length>149&&l.shift(),l.push(Math.abs(n)),e.preventDefault?e.preventDefault():e.returnValue=!1;var r=t-h;h=t,r>200&&(l=[]);var u=v(l,10),c=v(l,70),d=u>=c;return d&&i&&(0>o?s.scrollDown():s.scrollUp()),!1};return this.each(function(){var t=e(this);if(s.swipe&&(r||u)){var n=c();t.off("touchstart "+n.down).on("touchstart "+n.down,w),t.off("touchmove "+n.move).on("touchmove "+n.move,p)}if(s.mouseWheel){var o,a="";window.addEventListener?o="addEventListener":(o="attachEvent",a="on");var i="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";"DOMMouseScroll"==i?document[o](a+"MozMousePixelScroll",g,!1):document[o](a+i,g,!1)}})},e.fn.touchScrollEvent.defaults={swipe:!0,swipeRight:function(){},swipeLeft:function(){},swipeUp:function(){},swipeDown:function(){},touchThreshold:5,mouseWheel:!0,scrollUp:function(){},scrollDown:function(){}}}(jQuery);